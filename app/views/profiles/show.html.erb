<div class="container mx-auto max-w-7xl px-4 text-center mt-20">
  <h1 class="text-xl font-semibold mb-12 text-gray-600"><i class="fa-solid fa-user"></i> マイページ</h1>

  <div class="border rounded-lg p-6 hover:bg-gray-100 mx-auto max-w-md">
    <!-- アバター画像またはデフォルトアバター画像を表示 -->
    <div class="mb-6">
      <% if @user.avatar? %>
        <%= image_tag @user.avatar.url, class: "h-24 w-24 rounded-full mx-auto" %>
      <% else %>
        <%= image_tag 'default_avatar.webp', class: "h-24 w-24 rounded-full mx-auto" %>
      <% end %>
    </div>

    <div class="flex items-center justify-start mb-6">
      <div class="w-32 bg-gray-100 p-2 rounded">名前</div>
      <div class="ml-8 text-xl"><%= @user.name %></div>
    </div>

    <div class="flex items-center justify-start mb-6">
      <div class="w-32 bg-gray-100 p-2 rounded">メールアドレス</div>
      <div class="ml-8 text-gray-600"><%= @user.email %></div>
    </div>
  
    <!-- プロフィール編集画面へのボタン -->
    <div class="text-center mt-6">
      <%= link_to 'プロフィールを編集する', edit_profile_path, class: "bg-gray-200 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
    </div>
  </div>

  <hr class="my-4 border-gray-300">

  <div class="mt-12 mx-auto max-w-md">
    <h2 class="text-lg font-bold text-gray-600 mb-6"><i class="fa-solid fa-house"></i> <%= @user.name %> の投稿</h2>
    <% if @libraries.empty? %>
      <div class="text-center">投稿された図書館はありません。</div>
    <% else %>
      <% @libraries.each do |library| %>
        <div class="border rounded-lg p-6 mb-8 hover:bg-gray-100">
          <h3 class="font-bold text-gray-800"><%= library.name %></h3>
          <p class="text-gray-600"><%= library.body %></p>
          <div class="mt-4">
            <%= link_to '図書館の詳細を見る', library_path(library), class: "bg-gray-200 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
          </div>
        </div>
      <% end %>
    <% end %>

    <hr class="my-4 border-gray-300">

    <!-- ユーザーがお気に入り登録した図書館の表示 -->
    <h2 class="text-lg font-bold text-gray-600 mb-6"><i class="fa-solid fa-star"></i> <%= @user.name %> のお気に入りの図書館 </h2>
    <% if @bookmarked_libraries.empty? %>
      <div class="text-center">お気に入りに登録された図書館はありません。</div>
    <% else %>
      <% @bookmarked_libraries.each do |library| %>
        <div class="border rounded-lg p-6 mb-8 hover:bg-gray-100">
          <h3 class="font-bold text-gray-800"><%= library.name %></h3>
          <p class="text-gray-600"><%= library.body %></p>
          <div class="mt-4">
            <%= link_to '図書館の詳細を見る', library_path(library), class: "bg-gray-200 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
          </div>
        </div>
      <% end %>
    <% end %>

  <!-- 図書館一覧、図書館登録画面へのボタン -->
  <div class="text-center mt-6">
    <%= link_to '図書館を探す', libraries_path, class: "bg-blue-100 hover:bg-blue-400 text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
    <%= link_to '図書館を登録する', new_library_path, class: "bg-blue-100 hover:bg-blue-400 text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ml-4" %>
  </div>
  <div style="margin-bottom: 100px;"></div>
</div>
